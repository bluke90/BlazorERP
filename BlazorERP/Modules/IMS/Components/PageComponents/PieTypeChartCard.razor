@using BlazorERP.Components.Global.Components

@inherits PieTypeChartCardBase


<MudCard Elevation="10" Class="expand">
    <MudCardHeader Class="@(DenseHeader ? "dense" : "")">
        <MudGrid Style="align-items: center;">
            <MudItem xs="2" Class="PieTypeChartHeaderSelectItem w-min">
                <MudSelect Class="icon-select" ValueChanged="(Type1ChartOption option) => SetChartType(option)" PopoverClass="icon-select-popover"
                           Dense="true" FitContent="true" Variant="Variant.Text" Underline="false" OpenIcon="null" CloseIcon="null" AnchorOrigin="Origin.BottomLeft">
                    <MudSelectItem Value="Type1ChartOption.Pie"><MudIcon Icon="@Icons.Material.Filled.PieChart" Size="Size.Medium" Title="Pie"/></MudSelectItem>
                    <MudSelectItem Value="Type1ChartOption.Doughnut"><MudIcon Icon="@Icons.Material.Filled.DonutLarge" Size="Size.Medium" Title="Doughnut"/></MudSelectItem>
                </MudSelect>
                
                @* <IconSelect SelectItems="Options" SelectItemChanged="SetChartType"></IconSelect> *@
                
            </MudItem>
            <MudItem xs="10" Style="padding-left: 0;">
                <MudText Typo="Typo.h6">
                    @Title
                </MudText>                
            </MudItem>
        </MudGrid>
    </MudCardHeader>
        
    <MudCardContent Class="pa-4">
        <MudBreakpointProvider OnBreakpointChanged="BreakpointChanged">
            @if (Breakpoint <= Breakpoint.Sm)
            {
                <MudChart ChartType="ChartType" InputData="@Values" InputLabels="@Labels" Height="100" Width="100"/>        
            }
            else if (Breakpoint >= Breakpoint.Md)
            {
                <MudChart ChartType="ChartType" InputData="@Values" InputLabels="@Labels" Height="250" Width="103%"/>
            }
            else
            {
                <MudChart ChartType="ChartType" InputData="@Values" InputLabels="@Labels" Height="100" Width="100"/>
            }

        </MudBreakpointProvider>
        
    </MudCardContent>

</MudCard>